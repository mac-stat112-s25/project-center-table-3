[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "An Analysis of the 2024 Mexican Presidential Election",
    "section": "",
    "text": "Your report will go here.\n\n#TITLE\n\n\n#Background info on election\n\n\n# putting all the data shit in one chunk so we can collapse it more easily later\n# load presidential election data\nlibrary(tidyverse)\nlibrary(stringi)\nlibrary(rnaturalearth)\nlibrary(RColorBrewer)\npresidencial &lt;- read_delim(\"data/presidential/PRES_2024.csv\", delim = \"|\", skip = 6, locale = locale(encoding = \"latin1\"))\n\nRows: 170766 Columns: 34\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \"|\"\nchr (31): CLAVE_CASILLA, CLAVE_ACTA, ID_ENTIDAD, ENTIDAD, ID_DISTRITO_FEDERA...\ndbl  (3): TIPO_ACTA, TOTAL_VOTOS_CALCULADOS, LISTA_NOMINAL\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npresidential &lt;- presidencial |&gt;\n  rename(\n    casilla_code = CLAVE_CASILLA,\n    acta_code = CLAVE_ACTA,\n    ID_entity = ID_ENTIDAD,\n    entity_state = ENTIDAD,\n    ID_federal_district = ID_DISTRITO_FEDERAL,\n    federal_district = DISTRITO_FEDERAL,\n    section = SECCION,\n    casilla_id = ID_CASILLA,\n    casilla_type = TIPO_CASILLA,\n    ext_contigua = EXT_CONTIGUA,\n    casilla = CASILLA,\n    acta_type = TIPO_ACTA,\n    independent = `CANDIDATO/A NO REGISTRADO/A`,\n    null_votes = `VOTOS NULOS`,\n    total_votes = TOTAL_VOTOS_CALCULADOS,\n    eligible_voters = LISTA_NOMINAL,\n    observations = OBSERVACIONES,\n    transfer_mechanism = MECANISMOS_TRASLADO,\n    date_time = FECHA_HORA\n    ) |&gt;\n  filter(total_votes != 0) |&gt;\n  mutate_at(vars(13:31), as.numeric) |&gt;\n  mutate(sheinbaum = PT + MORENA + PVEM_PT_MORENA + PVEM_PT + PVEM_MORENA + PT_MORENA + PVEM) |&gt;\n  mutate(galvez = PAN + PAN_PRI_PRD + PAN_PRI + PAN_PRD + PRI + PRI_PRD + PRD) |&gt;\n  mutate(maynez = MC)\n\n# clean it again because i realized i wasn't htorough enough the first time but i used the original dataset in my eda\npresidential_clean &lt;- presidential |&gt;\n  mutate(casilla = fct_recode(casilla, \"Non-urban\" = \"No Urbana\", \"Urban\" = \"Urbana\")) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(casilla_code, acta_code, ID_entity, entity_state, casilla_type, casilla, independent, null_votes, total_votes, eligible_voters, sheinbaum, galvez, maynez) |&gt;\n  rename(\n    id_state = ID_entity,\n    state = entity_state\n  )\n\n# IGNORE THE ONE CALLED `presidential_clean.csv`!!!!!!!\n\n# presidential election percentages dataset\npres_percents &lt;- presidential |&gt;\n  group_by(entity_state) |&gt;\n  summarise(\n    tot_sheinbaum = sum(sheinbaum), \n    tot_galvez = sum(galvez), \n    tot_maynez = sum(maynez), \n    total_votes = sum(total_votes)) |&gt;\n  mutate(\n    pct_sheinbaum = tot_sheinbaum/total_votes, \n    pct_galvez = tot_galvez/total_votes, \n    pct_maynez = tot_maynez/total_votes) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(-starts_with(\"tot\")) |&gt;\n  mutate(pct_sheinbaum_cats = \n          cut(pct_sheinbaum,\n              breaks = seq(.4, .85, by = .05),\n              labels = c(\"40%\", \"45%\", \"50%\", \"55%\", \"60%\", \"65%\", \"70%\", \"75%\", \"80%\"),\n              include.lowest = TRUE\n         ), \n         pct_galvez_cats =\n          cut(pct_galvez,\n              breaks = seq(.1, .5, by = .05),\n              labels = c(\"10%\", \"15%\", \"20%\", \"25%\", \"30%\", \"35%\", \"40%\", \"45%\"),\n              include.lowest = TRUE\n         ),\n         pct_maynez_cats =\n           cut(pct_maynez,\n               breaks = seq(.05, .25, by = .03),\n               labels = c(\"5%\", \"8%\", \"11%\", \"14%\", \"17%\", \"20%\"),\n               include.lowest = TRUE\n         ))\n\n# now we're going to upload and clean some statistical data from Mexico\n# population by state\npopulation_messy &lt;- read_csv(\"data/originals/population_state_1020.csv\")\n\nRows: 64 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): State\ndbl (3): State ID, Year, Population\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npopulation_20 &lt;- population_messy |&gt;\n  filter(Year == 2020) |&gt;\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`,\n    pop = Population\n  )\n\n# quarterly income by state and year (MXP)\nincome_messy &lt;- read_csv(\"data/originals/income_state_1622.csv\")\n\nRows: 128 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): State\ndbl (3): State ID, Year, Quarterly Income\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nincome_16_22 &lt;- income_messy |&gt; # keeping year-by-year data as possible analysis tool\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`,\n    income_quarterly_mxp = `Quarterly Income`\n  )\n\n# violent crime by state (data in Spanish)\ncrimes_messy &lt;- read_csv(\"data/originals/crimes_state_1524.csv\")\n\nRows: 12800 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): Crime Type, State\ndbl (4): Year, Crime Type ID, State ID, Value\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nviolent_crimes_18_23 &lt;- crimes_messy|&gt; # we only want crime data from 2023 as it was before the election, possible avg after 2018\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  filter(Year %in% c(2019, 2020, 2021, 2022, 2023)) |&gt; #removing data pre-AMLO + election years\n  # we will be using the FBI's definition of violent crime to filter the list\n  filter(`Crime Type` %in% c(\"Robo\", \n                             \"Violación Equiparada\", \n                             \"Violación Simple\", \n                             \"Homicidio\", \n                             \"Lesiones\", \n                             \"Otros Delitos que Atentan contra la Vida y la Integridad Corporal\")) |&gt;\n  group_by(State, Year, `State ID`) |&gt;\n  summarise(tot_viol_crime = sum(Value)) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`\n  )\n\n`summarise()` has grouped output by 'State', 'Year'. You can override using the\n`.groups` argument.\n\n# indigenous mexicans (by state, those who speak an indigenous language)\n# ¡UNZIP mx_census_2020.csv ZIP FILE TO RUN!\n# census_messy &lt;- read_csv(\"data/originals/mx_census_2020.csv\")\n# census_messy |&gt;\n#   filter(NOM_LOC == \"Total de la Entidad\") |&gt; # census totals by state\n#   mutate(\n#     NOM_ENT = str_replace(NOM_ENT, \"Ciudad de México\", \"Distrito Federal\"),\n#     NOM_ENT = str_replace(NOM_ENT, \" de Zaragoza\", \"\"),\n#     NOM_ENT = str_replace(NOM_ENT, \" de Ocampo\", \"\"),\n#     NOM_ENT = str_replace(NOM_ENT, \" de Ignacio de la Llave\", \"\")) |&gt;\n#   select(1:2, 10, 124:139) |&gt;\n#   select(-contains(\"AFRO\"), -ends_with(\"_M\"), -ends_with(\"_F\")) |&gt;\n#   rename(\n#     id_state = ENTIDAD,\n#     state = NOM_ENT,\n#     tot_pop = POBTOT,\n#     indigenous_hh = PHOG_IND\n#   ) |&gt;\n#   mutate_at(vars(4:10), as.numeric) |&gt;\n#   mutate(pct_indigenous = (indigenous_hh/tot_pop)*100)\n\n# import second indigenous dataset idfk (those who self-identify as indigenous)\nlibrary(readxl)\nindigenous_messy &lt;- read_excel(\"data/originals/1-poblacion-indigena-autoadscrita-nacional-y-por-entidad-federativa-muestra-censal-2020.xlsx\", \n    skip = 3)\nindigenous_pop_24 &lt;- indigenous_messy |&gt;\n  filter(!is.na(Entidad)) |&gt;\n  filter(Entidad != \"Estados Unidos Mexicanos\") |&gt;\n  mutate(\n    Entidad = str_replace(Entidad, \"Ciudad de México\", \"Distrito Federal\"),\n    Entidad = str_replace(Entidad, \" de Zaragoza\", \"\"),\n    Entidad = str_replace(Entidad, \" de Ocampo\", \"\"),\n    Entidad = str_replace(Entidad, \" de Ignacio de la Llave\", \"\")) |&gt;\n  filter(Estimador == \"Estimación\") |&gt;\n  select(`Clave de la entidad`, Entidad, Tipo, `Se considera indígena`) |&gt;\n  pivot_wider(names_from = Tipo, values_from = `Se considera indígena`) |&gt;\n  rename(\n    id_state = `Clave de la entidad`,\n    state = Entidad,\n    pop_ind = Población,\n    pct_ind = Porcentaje\n  )\n\n# democracy index economist\nmx_dem_index &lt;- tribble(\n  ~year, ~ranking, ~regime_type,\n  2010, 6.93, \"Flawed democracy\",\n  2011, 6.93, \"Flawed democracy\",\n  2012, 6.90, \"Flawed democracy\",\n  2013, 6.91, \"Flawed democracy\",\n  2014, 6.68, \"Flawed democracy\",\n  2015, 6.55, \"Flawed democracy\",\n  2016, 6.47, \"Flawed democracy\",\n  2017, 6.41, \"Flawed democracy\",\n  2018, 6.19, \"Flawed democracy\",\n  2019, 6.09, \"Flawed democracy\",\n  2020, 6.07, \"Flawed democracy\",\n  2021, 5.57, \"Hybrid regime\",\n  2022, 5.25, \"Hybrid regime\",\n  2023, 5.14, \"Hybrid regime\",\n  2024, 5.32, \"Hybrid regime\"\n)\n\n#mexico map\nmexico &lt;- ne_states(country = \"Mexico\")\n\n\n# democracy \nmx_dem_index |&gt;\n  ggplot(aes(x = year, y = ranking)) +\n  geom_abline(slope = 0, intercept = 6.0, color = \"grey\", linetype = 5) +\n  geom_line() +\n  scale_y_continuous(name = \"Score\", breaks = c(4, 5, 6, 7, 8), limits = c(4, 8)) +\n  scale_x_continuous(name = \"Year\", breaks = c(2010, 2012, 2014, 2016, 2018, 2020, 2022, 2024)) +\n  annotate(\"text\", \n           label = \"Flawed democracy\", \n           x = 2017.5, \n           y = 7.25, \n           size = 4.5, \n           color = \"grey\", \n           fontface = \"italic\") +\n  annotate(\"text\", \n           label = \"Hybrid regime\", \n           x = 2017.5, \n           y = 5.25, \n           size = 4.5, \n           color = \"grey\", \n           fontface = \"italic\") +\n  annotate(\"text\",\n           label = \"AMLO elected\",\n           x = 2018.95,\n           y = 6.3,\n           size = 3) +\n  geom_point(x = 2018, y = 6.19, size = 2) +\n  theme_minimal() +\n  labs(title = \"Economist Democracy Score for Mexico, 2010-2024\", caption = \"Author: Quinn Cowell | Source: Economist Group 2024\")\n\n\n\n\n\n\n\n\n# general election information\n\n\n# comparative state-by-state bar graph\npresidential |&gt;\n    group_by(entity_state) |&gt;\n  summarise(\n    tot_sheinbaum = sum(sheinbaum), \n    tot_galvez = sum(galvez), \n    tot_maynez = sum(maynez),\n    total_votes = sum(total_votes))|&gt;\n  mutate(\n    Sheinbaum = tot_sheinbaum/total_votes, \n    Gálvez = tot_galvez/total_votes, \n    Máynez = tot_maynez/total_votes) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(-starts_with(\"tot\")) |&gt;\n  pivot_longer(2:4, names_to = \"Candidate\", values_to = \"Vote Share\") |&gt;\n  mutate(Candidate = fct_relevel(Candidate, c(\"Sheinbaum\", \"Gálvez\", \"Máynez\"))) |&gt;\n  ggplot(aes(x = entity_state, y = `Vote Share`, fill = Candidate)) +\n    geom_col(position = \"fill\") +\n    scale_y_continuous(name = \"Vote Share\", breaks = c(0, .25, .5, .75, 1), labels = c(\"0%\", \"25%\", \"50%\", \"75%\", \"100%\")) +\n    coord_flip() + \n    scale_fill_manual(values = c(\"Sheinbaum\" = \"#b62218\", \"Gálvez\" = \"#ef64bc\", \"Máynez\" = \"#FF8C00\")) +\n    theme_minimal() +\n    labs(x = \"State/District\", caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n#explaining indigenous graphs\n\n\nindigenous_pop_24 |&gt;\n  arrange(pct_ind)\n\n# A tibble: 32 × 4\n   id_state state            pop_ind pct_ind\n   &lt;chr&gt;    &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;\n 1 05       Coahuila           63417  0.0213\n 2 32       Zacatecas          74582  0.0488\n 3 01       Aguascalientes     83200  0.0617\n 4 11       Guanajuato        372169  0.0639\n 5 19       Nuevo León        352790  0.0640\n 6 28       Tamaulipas        224210  0.0667\n 7 14       Jalisco           557864  0.0704\n 8 02       Baja California   285679  0.0797\n 9 10       Durango           152793  0.0887\n10 09       Distrito Federal  825325  0.0928\n# ℹ 22 more rows\n\nmexico |&gt;\n  left_join(indigenous_pop_24, join_by(name == state)) |&gt;\n  mutate(pct_ind_cat = \n           cut(pct_ind,\n               breaks = c(0, .07, .11, .16, .26, .36, .48, .70),\n               labels = c(\"2%-7%\", \"7%-11%\", \"11%-16%\", \"16%-26%\", \"26%-36%\", \"36%-48%\", \"48%-69%\")\n           )) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_ind_cat)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(7, \"BuGn\"), name = \"% Indigenous\", na.translate = FALSE) +\n    labs(title = \"% Self-identified Indigenous by State in Mexico\", caption = \"Author: Quinn Cowell | Source: INPI 2020\")\n\n\n\n\n\n\n\n\nindigenous_pop_24 |&gt;\n  select(-id_state) |&gt;\n  left_join((pres_percents |&gt; select(-contains(\"cats\"))), join_by(state == entity_state)) |&gt;\nggplot(aes(x = pct_ind, y = pct_sheinbaum)) +\n  geom_point() +\n  theme_minimal() +\n  scale_x_continuous(breaks = seq(0, .8, by = .2), labels = c(\"0%\", \"20%\", \"40%\", \"60%\", \"80%\")) +\n  scale_y_continuous(breaks = seq(.4, .9, by = .1),labels = c(\"40%\", \"50%\", \"60%\", \"70%\", \"80%\", \"90%\")) +\n  labs(title = \"% Sheinbaum vote vs. % Indigenous, by State\",\n       caption = \"Author: Quinn Cowell | Source: INE 2024, INPI 2020\",\n       x  = \"% Indigenous\",\n       y = \"% Sheinbaum\")\n\n\n\n\n\n\n\n\n#explaining crime graphs\n\n\n# Average violent crimes per state across all years\ncrime_avg &lt;- violent_crimes_18_23 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_violent_crime = mean(tot_viol_crime, na.rm = TRUE))\n\n# Get Mexico shapefile\nmexico &lt;- ne_states(country = \"Mexico\", returnclass = \"sf\")\n\n# Fix state names before merging\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt;\n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt;\n           str_replace(\" de Zaragoza\", \"\") |&gt;\n           str_replace(\" de Ocampo\", \"\") |&gt;\n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\ncombined_data &lt;- crime_avg %&gt;%\n  left_join(pres_percents, join_by(state == entity_state))\n\ncombined_data &lt;- combined_data |&gt;  # (this \"old\" combined_data you had earlier)\n  left_join(\n    violent_crimes_18_23 |&gt;\n      filter(year == 2023) |&gt;\n      left_join(population_20, join_by(state == state)) |&gt;\n      mutate(\n        crime_rate = (tot_viol_crime / pop) * 100000\n      ),\n    join_by(state == state)\n  )\n\n# Merge spatial data\nmexico_crime &lt;- mexico %&gt;%\n  left_join(crime_avg, by = c(\"name\" = \"state\"))\n\n# Plot the choropleth\nmexico |&gt;\nleft_join(combined_data, join_by(name == state)) |&gt;\nggplot() +\n  geom_sf(aes(fill = crime_rate)) +\n  theme_void()\n\n\n\n\n\n\n\n\n# Step 2: Plot point plot\nggplot(combined_data, aes(x = crime_rate, y = pct_sheinbaum)) +\n  geom_point() +\n  labs(\n    x = \"Crime Rate (per 100,000 people)\",\n    y = \"Sheinbaum Vote %\",\n    title = \"Crime Rate vs Sheinbaum Vote % (2023)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n#explaining income graphs\n\n\n# Calculate the average income per state across all years\nincome_avg &lt;- income_16_22 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_income = mean(income_quarterly_mxp, na.rm = TRUE))\n\n# Get a shapefile or geometry of Mexican states\n# We'll use rnaturalearth for a quick version\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n# Download Mexico map\nmexico &lt;- ne_states(country = \"Mexico\", returnclass = \"sf\")\n\n# Check state names if necessary\n unique(mexico$name)\n\n [1] \"Sonora\"              \"Baja California\"     \"Chihuahua\"          \n [4] \"Coahuila\"            \"Tamaulipas\"          \"Nuevo León\"         \n [7] \"Quintana Roo\"        \"Campeche\"            \"Tabasco\"            \n[10] \"Chiapas\"             \"Colima\"              \"Nayarit\"            \n[13] \"Baja California Sur\" \"Sinaloa\"             \"Yucatán\"            \n[16] \"Veracruz\"            \"Jalisco\"             \"Michoacán\"          \n[19] \"Guerrero\"            \"Oaxaca\"              NA                   \n[22] \"México\"              \"Puebla\"              \"Morelos\"            \n[25] \"Querétaro\"           \"Hidalgo\"             \"Guanajuato\"         \n[28] \"San Luis Potosí\"     \"Zacatecas\"           \"Aguascalientes\"     \n[31] \"Durango\"             \"Tlaxcala\"            \"Distrito Federal\"   \n\n unique(income_avg$state)\n\n [1] \"Aguascalientes\"      \"Baja California\"     \"Baja California Sur\"\n [4] \"Campeche\"            \"Chiapas\"             \"Chihuahua\"          \n [7] \"Coahuila\"            \"Colima\"              \"Distrito Federal\"   \n[10] \"Durango\"             \"Guanajuato\"          \"Guerrero\"           \n[13] \"Hidalgo\"             \"Jalisco\"             \"Michoacán\"          \n[16] \"Morelos\"             \"México\"              \"Nayarit\"            \n[19] \"Nuevo León\"          \"Oaxaca\"              \"Puebla\"             \n[22] \"Querétaro\"           \"Quintana Roo\"        \"San Luis Potosí\"    \n[25] \"Sinaloa\"             \"Sonora\"              \"Tabasco\"            \n[28] \"Tamaulipas\"          \"Tlaxcala\"            \"Veracruz\"           \n[31] \"Yucatán\"             \"Zacatecas\"          \n\n# Join your income data with the Mexico shapefile\nmexico_income &lt;- mexico %&gt;%\n  left_join((income_avg|&gt;mutate(\n    state = str_replace(state, \"Ciudad de México\",\"Distrito Federal\"),\n    state = str_replace(state, \" de Zaragoza\",\"\"),\n    state = str_replace(state, \" de Ocampo\",\"\"),\n    state = str_replace(state, \" de Ignacio de la Llave\",\"\"))), by = c(\"name\" = \"state\"))\n \n# Plot the choropleth\nggplot(mexico_income) +\n  geom_sf(aes(fill = avg_income)) +\n  scale_fill_viridis_c(option = \"plasma\", na.value = \"gray90\") +\n  theme_void() +\n  labs(\n    title = \"Average Income by State in Mexico\",\n    fill = \"Avg Income\"\n  )\n\n\n\n\n\n\n\n\n# Step 1: Make sure names match\n# Clean state names in crime_avg\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt; \n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt; \n           str_replace(\" de Zaragoza\", \"\") |&gt; \n           str_replace(\" de Ocampo\", \"\") |&gt; \n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n\n# Step 2: Join the datasets\ncombined_data &lt;- crime_avg %&gt;%\n  left_join(pres_percents, by = c(\"state\" = \"entity_state\"))\n\n# Step 1: Create combined_data\ncombined_data &lt;- combined_data |&gt;  # (this \"old\" combined_data you had earlier)\n  left_join(\n    violent_crimes_18_23 |&gt;\n      filter(year == 2023) |&gt;\n      left_join(population_20, join_by(state == state)) |&gt;\n      mutate(\n        crime_rate = (tot_viol_crime / pop) * 100000\n      ),\n    join_by(state == state)\n  )\n\n# Combine combined_data and income_avg by matching 'state' and 'State'\ncombined_data &lt;- combined_data %&gt;%\n  left_join(income_avg, by = c(\"state\" = \"state\"))\n\n   \n ggplot(combined_data, aes(x = avg_income, y = pct_sheinbaum)) +\n  geom_point() +\n  labs(\n    x = \"Average Income\",\n    y = \"Sheinbaum Vote %\",\n    title = \"Income in a state vs. Sheinbaum Vote %\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n#Move into specific canidate votes per state (move to general election information)\n\n\n# call map of states\nmexico &lt;- ne_states(country = \"Mexico\")\n\n# plot Sheinbaum results\nmexico |&gt;\n  left_join(pres_percents, join_by(name == entity_state)) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_sheinbaum_cats)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(9, \"Reds\"), name = \"% Vote\", na.translate = FALSE) +\n    labs(caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# plot Gálvez results\nmexico |&gt;\n  left_join(pres_percents, join_by(name == entity_state)) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_galvez_cats)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(8, \"RdPu\"), name = \"% Vote\", na.translate = FALSE) +\n    labs(caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n#conclude",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Report</span>"
    ]
  },
  {
    "objectID": "src/et/quinn-c.html",
    "href": "src/et/quinn-c.html",
    "title": "2  Quinn C",
    "section": "",
    "text": "This article, from SkillPath, lists and describes what they define as eight “simple characteristics of a great team.” These characteristics can be largely generalized as balancing and appreciating the individuality of the team, while also encouraging community building and interdependence. Specifically, they emphasize individual achievement and skill sets, recognizing how those apply to the team, and taking the opportunity to develop those skills and incorporate them in a team setting. The article also says that an effective team needs to build an environment of trust, respect, and communication, where team members can be open with and rely on one another, coordinating as a team to make decisions, rather than unilaterally. The key to an effective team, then, is respect – both for the community and for the individuals within the community.",
    "crumbs": [
      "Effective Teamwork",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Quinn C</span>"
    ]
  },
  {
    "objectID": "src/et/Isaiah-R.html",
    "href": "src/et/Isaiah-R.html",
    "title": "3  Isaiah R.",
    "section": "",
    "text": "collaborative based culture need to feel like part of the team covid where people had to work online, showed bhow much more effective and necessary teamwork is get to know each other, past the work basis, what we basically did with the “intro” timely communication  strategizing effectively strong team connection have good effects on productivity find that each person has a common goal trust make sure in collaboration all people engage as to make sure all are on the same page, and arent just sitting there",
    "crumbs": [
      "Effective Teamwork",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Isaiah R.</span>"
    ]
  },
  {
    "objectID": "src/eda/quinn-c.html",
    "href": "src/eda/quinn-c.html",
    "title": "\n4  Quinn C\n",
    "section": "",
    "text": "# How many votes did each candidate receive?\npresidential |&gt;\n  summarise(Sheinbaum = sum(sheinbaum), Gálvez = sum(galvez), Máynez = sum(maynez)) |&gt;\n  pivot_longer(cols = 1:3, names_to = \"candidate\", values_to = \"votes\") |&gt;\n  ggplot(aes(x = candidate, y = votes)) +\n    geom_col(fill = \"darkgrey\") +\n    theme_minimal() +\n    scale_y_continuous(name = \"# Votes\", breaks = c(0, 1e+07, 2e+07, 3e+07, 4e+07), labels = c(\"0\", \"10 mil\", \"20 mil\", \"30 mil\", \"40 mil\")) +\n    labs(x = \"Candidate\", title = \"Popular Vote by Candidate\", caption = \"Author: Quinn Cowell | Date: 4.27.2025 | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# how did mexicans abroad vote compared to those voting within Mexico?\npresidential |&gt;\n  mutate(vote_abroad = str_detect(casilla_type, \"V|M\")) |&gt;\n  select(vote_abroad, maynez, galvez, sheinbaum) |&gt;\n  group_by(vote_abroad) |&gt;\n  summarise(Sheinbaum = sum(sheinbaum), Gálvez = sum(galvez), Máynez = sum(maynez)) |&gt;\n  pivot_longer(cols = 2:4, names_to = \"candidate\", values_to = \"votes\") |&gt;\n  ggplot(aes(x = vote_abroad, y = votes, fill = candidate)) +\n    geom_col(position = \"fill\") +\n    scale_fill_manual(values = c(\"Sheinbaum\" = \"#b62218\", \"Gálvez\" = \"#ef64bc\", \"Máynez\" = \"#FF8C00\")) +\n    theme_minimal() +\n  labs(x = \"Voted Abroad?\",\n       y = \"Vote Share\",\n       fill = \"Candidate\", title = \"Abroad voting vs. voting within mexico\", caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# voter turnout by domestic ballot box\npresidential |&gt;\n  filter(!str_detect(casilla_type, \"V|M\")) |&gt;\n  mutate(turnout = total_votes/eligible_voters) |&gt;\n  ggplot(aes(x = turnout)) +\n    geom_density() +\n    theme_minimal() +\n    labs(x = \"Voter Turnout by Polling Place\", caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# what percentage did each candidate get in each state?\npres_percents &lt;- presidential |&gt;\n  group_by(entity_state) |&gt;\n  summarise(\n    tot_sheinbaum = sum(sheinbaum), \n    tot_galvez = sum(galvez), \n    tot_maynez = sum(maynez), \n    total_votes = sum(total_votes)) |&gt;\n  mutate(\n    pct_sheinbaum = tot_sheinbaum/total_votes, \n    pct_galvez = tot_galvez/total_votes, \n    pct_maynez = tot_maynez/total_votes) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(-starts_with(\"tot\")) |&gt;\n  mutate(pct_sheinbaum_cats = \n          cut(pct_sheinbaum,\n              breaks = seq(.4, .85, by = .05),\n              labels = c(\"40%\", \"45%\", \"50%\", \"55%\", \"60%\", \"65%\", \"70%\", \"75%\", \"80%\"),\n              include.lowest = TRUE\n         ), \n         pct_galvez_cats =\n          cut(pct_galvez,\n              breaks = seq(.1, .5, by = .05),\n              labels = c(\"10%\", \"15%\", \"20%\", \"25%\", \"30%\", \"35%\", \"40%\", \"45%\"),\n              include.lowest = TRUE\n         ),\n         pct_maynez_cats =\n           cut(pct_maynez,\n               breaks = seq(.05, .25, by = .03),\n               labels = c(\"5%\", \"8%\", \"11%\", \"14%\", \"17%\", \"20%\"),\n               include.lowest = TRUE\n         ))\n\n# call map of states\nmexico &lt;- ne_states(country = \"Mexico\")\n\n# plot Sheinbaum results\nmexico |&gt;\n  left_join(pres_percents, join_by(name == entity_state)) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_sheinbaum_cats)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(9, \"Reds\"), name = \"% Vote\", na.translate = FALSE) +\n    labs(caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# plot Gálvez results\nmexico |&gt;\n  left_join(pres_percents, join_by(name == entity_state)) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_galvez_cats)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(8, \"RdPu\"), name = \"% Vote\", na.translate = FALSE) +\n    labs(caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# plot Máynez results\nmexico |&gt;\n  left_join(pres_percents, join_by(name == entity_state)) |&gt;\n  ggplot() +\n    geom_sf(aes(fill = pct_maynez_cats)) +\n    theme_void() +\n    scale_fill_manual(values = brewer.pal(6, \"Oranges\"), name = \"% Vote\", na.translate = FALSE) +\n    labs(caption = \"Author: Quinn Cowell | Source: INE, 2024\")\n\n\n\n\n\n\n\n\n# comparative state-by-state bar graph\npresidential |&gt;\n    group_by(entity_state) |&gt;\n  summarise(\n    tot_sheinbaum = sum(sheinbaum), \n    tot_galvez = sum(galvez), \n    tot_maynez = sum(maynez),\n    total_votes = sum(total_votes))|&gt;\n  mutate(\n    Sheinbaum = tot_sheinbaum/total_votes, \n    Gálvez = tot_galvez/total_votes, \n    Máynez = tot_maynez/total_votes) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(-starts_with(\"tot\")) |&gt;\n  pivot_longer(2:4, names_to = \"Candidate\", values_to = \"Vote Share\") |&gt;\n  mutate(Candidate = fct_relevel(Candidate, c(\"Sheinbaum\", \"Gálvez\", \"Máynez\"))) |&gt;\n  ggplot(aes(x = entity_state, y = `Vote Share`, fill = Candidate)) +\n    geom_col(position = \"fill\") +\n    scale_y_continuous(name = \"Vote Share\", breaks = c(0, .25, .5, .75, 1), labels = c(\"0%\", \"25%\", \"50%\", \"75%\", \"100%\")) +\n    coord_flip() + \n    scale_fill_manual(values = c(\"Sheinbaum\" = \"#b62218\", \"Gálvez\" = \"#ef64bc\", \"Máynez\" = \"#FF8C00\")) +\n    theme_minimal() +\n    labs(x = \"State/District\", caption = \"Author: Quinn Cowell | Source: INE, 2024\")",
    "crumbs": [
      "EDA",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Quinn C</span>"
    ]
  },
  {
    "objectID": "src/eda/Isaiah-R.html",
    "href": "src/eda/Isaiah-R.html",
    "title": "\n5  Isaiah R.\n",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n\nAttaching package: 'rnaturalearthdata'\n\nThe following object is masked from 'package:rnaturalearth':\n\n    countries110\n\nlibrary(stringr)\n\n\nincome_state_1622&lt;-read.csv(\"../../data/originals/income_state_1622.csv\")\n\n\n# now we're going to upload and clean some statistical data from Mexico\n# population by state\npopulation_messy &lt;- read_csv(\"../../data/originals/population_state_1020.csv\")\n\nRows: 64 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): State\ndbl (3): State ID, Year, Population\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npopulation_20 &lt;- population_messy |&gt;\n  filter(Year == 2020) |&gt;\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`,\n    pop = Population\n  )\n\n\n# Preview it\nhead(income_state_1622)\n\n  State.ID           State Year Quarterly.Income\n1        1  Aguascalientes 2016          67409.6\n2        1  Aguascalientes 2018          72532.9\n3        1  Aguascalientes 2020          65697.1\n4        1  Aguascalientes 2022          78287.5\n5        2 Baja California 2016          78960.4\n6        2 Baja California 2018          72328.7\n\n# Calculate the average income per state across all years\nincome_avg &lt;- income_state_1622 %&gt;%\n  group_by(State) %&gt;%\n  summarise(avg_income = mean(Quarterly.Income, na.rm = TRUE))\n\n# Get a shapefile or geometry of Mexican states\n# We'll use rnaturalearth for a quick version\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n# Download Mexico map\nmexico &lt;- ne_states(country = \"Mexico\", returnclass = \"sf\")\n\n# Check state names if necessary\n unique(mexico$name)\n\n [1] \"Sonora\"              \"Baja California\"     \"Chihuahua\"          \n [4] \"Coahuila\"            \"Tamaulipas\"          \"Nuevo León\"         \n [7] \"Quintana Roo\"        \"Campeche\"            \"Tabasco\"            \n[10] \"Chiapas\"             \"Colima\"              \"Nayarit\"            \n[13] \"Baja California Sur\" \"Sinaloa\"             \"Yucatán\"            \n[16] \"Veracruz\"            \"Jalisco\"             \"Michoacán\"          \n[19] \"Guerrero\"            \"Oaxaca\"              NA                   \n[22] \"México\"              \"Puebla\"              \"Morelos\"            \n[25] \"Querétaro\"           \"Hidalgo\"             \"Guanajuato\"         \n[28] \"San Luis Potosí\"     \"Zacatecas\"           \"Aguascalientes\"     \n[31] \"Durango\"             \"Tlaxcala\"            \"Distrito Federal\"   \n\n unique(income_avg$state)\n\nWarning: Unknown or uninitialised column: `state`.\n\n\nNULL\n\n# Join your income data with the Mexico shapefile\nmexico_income &lt;- mexico %&gt;%\n  left_join((income_avg|&gt;mutate(\n      State = str_replace(State, \"Ciudad de México\",\"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\",\"\"),\n    State = str_replace(State, \" de Ocampo\",\"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\",\"\"))), by = c(\"name\" = \"State\"))\n \n# Plot the choropleth\nggplot(mexico_income) +\n  geom_sf(aes(fill = avg_income)) +\n  scale_fill_viridis_c(option = \"plasma\", na.value = \"gray90\") +\n  theme_minimal() +\n  labs(\n    title = \"Average Income by State in Mexico\",\n    fill = \"Avg Income\"\n  )\n\n\n\n\n\n\n\n\n# violent crime by state (data in Spanish)\ncrimes_messy &lt;- read_csv(\"../../data/originals/crimes_state_1524.csv\")\n\nRows: 12800 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): Crime Type, State\ndbl (4): Year, Crime Type ID, State ID, Value\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nviolent_crimes_18_23 &lt;- crimes_messy|&gt; # we only want crime data from 2023 as it was before the election, possible avg after 2018\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  filter(Year %in% c(2019, 2020, 2021, 2022, 2023)) |&gt; #removing data pre-AMLO + election years\n  # we will be using the FBI's definition of violent crime to filter the list\n  filter(`Crime Type` %in% c(\"Robo\",\n                             \"Violación Equiparada\",\n                             \"Violación Simple\",\n                             \"Homicidio\",\n                             \"Lesiones\",\n                             \"Otros Delitos que Atentan contra la Vida y la Integridad Corporal\")) |&gt;\n  group_by(State, Year, `State ID`) |&gt;\n  summarise(tot_viol_crime = sum(Value)) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`\n  )\n\n`summarise()` has grouped output by 'State', 'Year'. You can override using the\n`.groups` argument.\n\n# Preview\nhead(violent_crimes_18_23)\n\n# A tibble: 6 × 4\n# Groups:   state, year [6]\n  state            year id_state tot_viol_crime\n  &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;\n1 Aguascalientes   2019        1          37148\n2 Aguascalientes   2020        1          30672\n3 Aguascalientes   2021        1          30466\n4 Aguascalientes   2022        1          31950\n5 Aguascalientes   2023        1          33024\n6 Baja California  2019        2         102810\n\n# Average violent crimes per state across all years\ncrime_avg &lt;- violent_crimes_18_23 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_violent_crime = mean(tot_viol_crime, na.rm = TRUE))\n\n# Get Mexico shapefile\nmexico &lt;- ne_states(country = \"Mexico\", returnclass = \"sf\")\n\n# Fix state names before merging\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt; \n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt; \n           str_replace(\" de Zaragoza\", \"\") |&gt; \n           str_replace(\" de Ocampo\", \"\") |&gt; \n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n\n# Merge spatial data\nmexico_crime &lt;- mexico %&gt;%\n  left_join(crime_avg, by = c(\"name\" = \"state\"))\n\n# Plot the choropleth\nggplot(mexico_crime) +\n  geom_sf(aes(fill = avg_violent_crime)) +\n  scale_fill_viridis_c(option = \"plasma\", na.value = \"gray90\",labels = scales::label_comma(accuracy = 1)) +\n  theme_minimal() +\n  labs(\n    title = \"Average Violent Crimes by State in Mexico (2019–2023)\",\n    fill = \"Avg Violent Crimes\"\n  )\n\n\n\n\n\n\n\n\n# what percentage did each candidate get in each state?\npresidential &lt;- read_csv(\"../../data/presidential_clean.csv\")\n\nRows: 170523 Columns: 37\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (14): casilla_code, acta_code, ID_entity, entity_state, ID_federal_distr...\ndbl (23): acta_type, PAN, PRI, PRD, PVEM, PT, MC, MORENA, PAN_PRI_PRD, PAN_P...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npres_percents &lt;- presidential |&gt;\n  group_by(entity_state) |&gt;\n  summarise(\n    tot_sheinbaum = sum(sheinbaum), \n    tot_galvez = sum(galvez), \n    tot_maynez = sum(maynez), \n    total_votes = sum(total_votes)) |&gt;\n  mutate(\n    pct_sheinbaum = tot_sheinbaum/total_votes, \n    pct_galvez = tot_galvez/total_votes, \n    pct_maynez = tot_maynez/total_votes) |&gt;\n  mutate(entity_state = str_to_title(entity_state)) |&gt;\n  mutate(entity_state = str_replace(entity_state, \"Ciudad De México\", \"Distrito Federal\")) |&gt;\n  select(-starts_with(\"tot\")) |&gt;\n  mutate(pct_sheinbaum_cats = \n          cut(pct_sheinbaum,\n              breaks = seq(.4, .85, by = .05),\n              labels = c(\"40%\", \"45%\", \"50%\", \"55%\", \"60%\", \"65%\", \"70%\", \"75%\", \"80%\"),\n              include.lowest = TRUE\n         ), \n         pct_galvez_cats =\n          cut(pct_galvez,\n              breaks = seq(.1, .5, by = .05),\n              labels = c(\"10%\", \"15%\", \"20%\", \"25%\", \"30%\", \"35%\", \"40%\", \"45%\"),\n              include.lowest = TRUE\n         ),\n         pct_maynez_cats =\n           cut(pct_maynez,\n               breaks = seq(.05, .25, by = .03),\n               labels = c(\"5%\", \"8%\", \"11%\", \"14%\", \"17%\", \"20%\"),\n               include.lowest = TRUE\n         ))\n\n# Average violent crimes per state across all years\ncrime_avg &lt;- violent_crimes_18_23 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_violent_crime = mean(tot_viol_crime, na.rm = TRUE))\n\n# Step 1: Make sure names match\n# Clean state names in crime_avg\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt; \n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt; \n           str_replace(\" de Zaragoza\", \"\") |&gt; \n           str_replace(\" de Ocampo\", \"\") |&gt; \n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n\n# Step 2: Join the datasets\ncombined_data &lt;- crime_avg %&gt;%\n  left_join(pres_percents, join_by(state == entity_state))\n\n\n# Step 1: Create combined_data\ncombined_data &lt;- combined_data |&gt;  # (this \"old\" combined_data you had earlier)\n  left_join(\n    violent_crimes_18_23 |&gt;\n      filter(year == 2023) |&gt;\n      left_join(population_20, join_by(state == state)) |&gt;\n      mutate(\n        crime_rate = (tot_viol_crime / pop) * 100000\n      ),\n    join_by(state == state)\n  )\n\n# Step 2: Plot it\nggplot(combined_data, aes(x = crime_rate, y = pct_sheinbaum)) +\n  geom_point() +\n  labs(\n    x = \"Crime Rate (per 100,000 people)\",\n    y = \"Sheinbaum Vote %\",\n    title = \"Crime Rate vs Sheinbaum Vote % (2023)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n# Combine combined_data and income_avg by matching 'state' and 'State'\ncombined_data &lt;- combined_data %&gt;%\n  left_join(income_avg, by = c(\"state\" = \"State\"))\n\n   \n ggplot(combined_data, aes(x = avg_income, y = pct_sheinbaum)) +\n  geom_point() +\n  labs(\n    x = \"Average Income\",\n    y = \"Sheinbaum Vote %\",\n    title = \"Income vs. Sheinbaum Vote %\"\n  ) +\n  theme_minimal()\n\nWarning: Removed 4 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n# Average violent crimes per state across all years\ncrime_avg &lt;- violent_crimes_18_23 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_violent_crime = mean(tot_viol_crime, na.rm = TRUE))\n\n\n# Step 1: Make sure names match\n# Clean state names in crime_avg\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt; \n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt; \n           str_replace(\" de Zaragoza\", \"\") |&gt; \n           str_replace(\" de Ocampo\", \"\") |&gt; \n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n\n# Step 2: Join the datasets\ncombined_data &lt;- crime_avg %&gt;%\n  left_join(pres_percents, by = c(\"state\" = \"entity_state\"))\n\n\n# Step 1: Create combined_data\ncombined_data &lt;- combined_data |&gt;  # (this \"old\" combined_data you had earlier)\n  left_join(\n    violent_crimes_18_23 |&gt;\n      filter(year == 2023) |&gt;\n      left_join(population_20, join_by(state == state)) |&gt;\n      mutate(\n        crime_rate = (tot_viol_crime / pop) * 100000\n      ),\n    join_by(state == state)\n  )\n\n# Step 2: Plot it\nggplot(combined_data, aes(x = crime_rate, y = pct_sheinbaum)) +\n  geom_point() +\n  labs(\n    x = \"Crime Rate (per 100,000 people)\",\n    y = \"Sheinbaum Vote %\",\n    title = \"Crime Rate vs Sheinbaum Vote % (2023)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n# Preview\nhead(violent_crimes_18_23)\n\n# A tibble: 6 × 4\n# Groups:   state, year [6]\n  state            year id_state tot_viol_crime\n  &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;          &lt;dbl&gt;\n1 Aguascalientes   2019        1          37148\n2 Aguascalientes   2020        1          30672\n3 Aguascalientes   2021        1          30466\n4 Aguascalientes   2022        1          31950\n5 Aguascalientes   2023        1          33024\n6 Baja California  2019        2         102810\n\n# Average violent crimes per state across all years\ncrime_avg &lt;- violent_crimes_18_23 %&gt;%\n  group_by(state) %&gt;%\n  summarise(avg_violent_crime = mean(tot_viol_crime, na.rm = TRUE))\n\n# Get Mexico shapefile\nmexico &lt;- ne_states(country = \"Mexico\", returnclass = \"sf\")\n\n# Fix state names before merging\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt;\n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt;\n           str_replace(\" de Zaragoza\", \"\") |&gt;\n           str_replace(\" de Ocampo\", \"\") |&gt;\n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n# Merge spatial data\nmexico_crime &lt;- mexico %&gt;%\n  left_join(crime_avg, by = c(\"name\" = \"state\"))\n\n# Plot the choropleth\nmexico |&gt;\nleft_join(combined_data, join_by(name == state)) |&gt;\nggplot() +\n  geom_sf(aes(fill = crime_rate))\n\n\n\n\n\n\n\n\n# now we're going to upload and clean some statistical data from Mexico\n# population by state\npopulation_messy &lt;- read_csv(\"../../data/originals/population_state_1020.csv\")\n\nRows: 64 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): State\ndbl (3): State ID, Year, Population\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npopulation_20 &lt;- population_messy |&gt;\n  filter(Year == 2020) |&gt;\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`,\n    pop = Population\n  )\n\n\n# violent crime by state (data in Spanish)\ncrimes_messy &lt;- read_csv(\"../../data/originals/crimes_state_1524.csv\")\n\nRows: 12800 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): Crime Type, State\ndbl (4): Year, Crime Type ID, State ID, Value\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nviolent_crimes_18_23 &lt;- crimes_messy|&gt; # we only want crime data from 2023 as it was before the election, possible avg after 2018\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  filter(Year %in% c(2019, 2020, 2021, 2022, 2023)) |&gt; #removing data pre-AMLO + election years\n  # we will be using the FBI's definition of violent crime to filter the list\n  filter(`Crime Type` %in% c(\"Robo\",\n                             \"Violación Equiparada\",\n                             \"Violación Simple\",\n                             \"Homicidio\",\n                             \"Lesiones\",\n                             \"Otros Delitos que Atentan contra la Vida y la Integridad Corporal\")) |&gt;\n  group_by(State, Year, `State ID`) |&gt;\n  summarise(tot_viol_crime = sum(Value)) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`\n  )\n\n`summarise()` has grouped output by 'State', 'Year'. You can override using the\n`.groups` argument.\n\n\n\n# now we're going to upload and clean some statistical data from Mexico\n# population by state\npopulation_messy &lt;- read_csv(\"../../data/originals/population_state_1020.csv\")\n\nRows: 64 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): State\ndbl (3): State ID, Year, Population\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\npopulation_20 &lt;- population_messy |&gt;\n  filter(Year == 2020) |&gt;\n  mutate(\n    State = str_replace(State, \"Ciudad de México\", \"Distrito Federal\"),\n    State = str_replace(State, \" de Zaragoza\", \"\"),\n    State = str_replace(State, \"Estado de \", \"\"),\n    State = str_replace(State, \" de Ocampo\", \"\"),\n    State = str_replace(State, \" de Ignacio de la Llave\", \"\")) |&gt;\n  rename(\n    state = State,\n    year = Year,\n    id_state = `State ID`,\n    pop = Population\n  )\n\n\nviolent_crimes_18_23|&gt;\n  filter(year == 2023)|&gt;\n  left_join(population_20, \n            join_by(state == state))|&gt;\n  mutate(\n    crime_rate = (tot_viol_crime/pop) * (100000)\n  )\n\n# A tibble: 32 × 8\n# Groups:   state [32]\n   state    year.x id_state.x tot_viol_crime id_state.y year.y    pop crime_rate\n   &lt;chr&gt;     &lt;dbl&gt;      &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;\n 1 Aguasca…   2023          1          33024          1   2020 1.43e6      2316.\n 2 Baja Ca…   2023          2          95094          2   2020 3.77e6      2523.\n 3 Baja Ca…   2023          3          16728          3   2020 7.98e5      2095.\n 4 Campeche   2023          4          22754          4   2020 9.28e5      2451.\n 5 Chiapas    2023          7          11972          7   2020 5.54e6       216.\n 6 Chihuah…   2023          8          49514          8   2020 3.74e6      1323.\n 7 Coahuila   2023          5          25042          5   2020 3.15e6       796.\n 8 Colima     2023          6          17482          6   2020 7.31e5      2390.\n 9 Distrit…   2023          9         175038          9   2020 9.21e6      1901.\n10 Durango    2023         10          15170         10   2020 1.83e6       828.\n# ℹ 22 more rows\n\n\n\n# Load needed libraries\nlibrary(tidyverse)\nlibrary(ggplot2)\n\n# Step 1: Make sure names match\n# Clean state names in crime_avg\ncrime_avg &lt;- crime_avg %&gt;%\n  mutate(state = state |&gt; \n           str_replace(\"Ciudad de México\", \"Distrito Federal\") |&gt; \n           str_replace(\" de Zaragoza\", \"\") |&gt; \n           str_replace(\" de Ocampo\", \"\") |&gt; \n           str_replace(\" de Ignacio de la Llave\", \"\")\n         )\n\n# Step 2: Join the datasets\ncombined_data &lt;- crime_avg %&gt;%\n  left_join(pres_percents, by = c(\"state\" = \"entity_state\"))\n\n\nhead(combined_data)\n\n# A tibble: 6 × 8\n  state avg_violent_crime pct_sheinbaum pct_galvez pct_maynez pct_sheinbaum_cats\n  &lt;chr&gt;             &lt;dbl&gt;         &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;             \n1 Agua…            32652          0.427      0.460     0.0893 40%               \n2 Baja…            92324.         0.667      0.212     0.0995 65%               \n3 Baja…            17300          0.591      0.297     0.0877 55%               \n4 Camp…            11493.         0.613      0.155     0.210  60%               \n5 Chia…            13527.         0.716      0.167     0.0740 70%               \n6 Chih…            48642.         0.539      0.340     0.0955 50%               \n# ℹ 2 more variables: pct_galvez_cats &lt;fct&gt;, pct_maynez_cats &lt;fct&gt;",
    "crumbs": [
      "EDA",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Isaiah R.</span>"
    ]
  },
  {
    "objectID": "src/appx/proposal.html",
    "href": "src/appx/proposal.html",
    "title": "Appendix A — Proposal",
    "section": "",
    "text": "An Analysis of the 2024 Mexican Presidential Election\nBy Isaiah Ramirez and Quinn Cowell",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>Proposal</span>"
    ]
  },
  {
    "objectID": "src/appx/proposal.html#an-analysis-of-the-2024-mexican-presidential-election",
    "href": "src/appx/proposal.html#an-analysis-of-the-2024-mexican-presidential-election",
    "title": "Appendix A — Proposal",
    "section": "",
    "text": "Proposal and reasoning\nWe will be analyzing and exploring the impact of the 2024 Mexican presidential election, in which the “appointed successor” of term-limited president Andrés Manuel López Obrador, Claudia Sheinbaum Pardo, was elected in a landslide victory. We will be breaking down the results by state, reviewing various variables that may have attributed to Sheinbaum Pardo’s overwhelming victory. We chose this topic because we wanted to learn more details about the recent Mexican federal elections, which were significant for the political trajectory of Mexico, and likely by extension the United States, but were not widely discussed in the media at the time.\n\n\nImplementation and reponsibility plan",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>A</span>  <span class='chapter-title'>Proposal</span>"
    ]
  },
  {
    "objectID": "src/appx/case-study.html",
    "href": "src/appx/case-study.html",
    "title": "Appendix B — Case Study",
    "section": "",
    "text": "We chose this FiveThirtyEight article about the 2017 Bundestag elections in Germany.\nIsaiah’s Observations\n\n6 visuals in total\nTitle\nPresenting questions before actual explanations\nGives a table that gives reader general idea of variables\nList sources in bottom right corner of viz\nIn the end they also acknowledge needing to consider other variables as well that they may not have gotten to look at\n\nQuinn’s Observations\n\nComparisons with American political parties to situate -&gt; important to define audience\nVariety of data visualizations: maps, tables, charts, graphs\nColorful!!\nOverview of all political parties and explanations of voting patterns (about Bundestag elections)\nHistory!! Discussion of East vs. West Germany, previous incarnations of political parties\nVisualizations supplement the text, not the other way around",
    "crumbs": [
      "Appendices",
      "<span class='chapter-number'>B</span>  <span class='chapter-title'>Case Study</span>"
    ]
  }
]